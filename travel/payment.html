<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payment - Nihon no Ryokou</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    /* Payment page specific styles */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #0f172a;
      color: #f8fafc;
    }

    header {
      background: #1e293b;
      padding: 10px 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      color: #ffe66d;
      border-radius: 0 0 8px 8px;
    }

    header img {
      height: 45px;
      width: auto;
    }

    main {
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      background: #1e293b;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
      color: #ffe66d;
    }

    #mapContainer {
      text-align: center;
      margin-bottom: 30px;
    }

    #mapFrame {
      width: 100%;
      height: 400px;
      border-radius: 10px;
      border: 0;
    }

    form .row {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    form .row > div {
      flex: 1;
      min-width: 200px;
    }

    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: #facc15;
    }

    input {
      width: 100%;
      padding: 10px;
      border-radius: 5px;
      border: none;
      margin-bottom: 10px;
    }

    button[type="submit"] {
      width: 100%;
      padding: 15px;
      background: #ffe66d;
      color: #1e293b;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
    }

    button[type="submit"]:hover {
      background: #facc15;
    }

    /* Coupon section */
    .coupon-container {
      margin: 20px auto;
      text-align: center;
    }

    .coupon-container label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: #facc15;
    }

    .coupon-container input {
      width: 60%;
      max-width: 300px;
      padding: 10px;
      border-radius: 5px;
      border: none;
      text-align: center;
      margin-bottom: 10px;
    }

    .coupon-container button {
      padding: 10px 15px;
      background: #ffe66d;
      color: #1e293b;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }

    .coupon-container button:hover {
      background: #facc15;
    }
  </style>
</head>
<body>

  <header>
    <img src="assets/images/logo.png" alt="Ryouko Logo">
    <span style="font-size:1.5rem; font-weight:bold;">Nihon no Ryokou</span>
  </header>

  <main>
    <h2 id="packageName">Package Name</h2>

    <div id="mapContainer">
      <iframe id="mapFrame" src="" allowfullscreen="" loading="lazy"></iframe>
    </div>

    <form id="paymentForm">
      <div class="row">
        <div>
          <label>Full Name</label>
          <input type="text" name="fullname" placeholder="Your Full Name" required>
        </div>
        <div>
          <label>Email</label>
          <input type="email" name="email" placeholder="Your Email" required>
        </div>
      </div>

      <div class="row">
        <div>
          <label>Cardholder Name</label>
          <input type="text" name="cardname" placeholder="Cardholder Name" required>
        </div>
        <div>
          <label>Card Number</label>
          <input type="text" name="cardnumber" placeholder="XXXX-XXXX-XXXX-XXXX" required>
        </div>
      </div>

      <div class="row">
        <div>
          <label>Price (¥)</label>
          <input type="text" name="price" readonly>
        </div>
      </div>

      <div class="coupon-container">
        <label>Coupon Code</label>
        <input type="text" name="coupon" placeholder="Enter coupon">
        <button type="button" onclick="applyCoupon()">Apply Coupon</button>
      </div>

      <button type="submit">Pay Now</button>
    </form>
  </main>

  <script>
    const packageMaps = {
  "Tokyo Explorer": "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3241.747975777093!2d139.74285797563368!3d35.65858047259448!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188bbd9009ec09%3A0x481a93f0d2a409dd!2sTokyo%20Tower!5e0!3m2!1sen!2sin!4v1758191977653!5m2!1sen!2sin",

  "Kyoto Heritage": "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d417837.9286250267!2d135.38921832760073!3d35.09775007925552!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6001a8d6cd3cc3f1%3A0xc0961d366bbb1d3d!2sKyoto%2C%20Japan!5e0!3m2!1sen!2sin!4v1758192268249!5m2!1sen!2sin",

  "Nara Serenity": "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3280.7980137234854!2d135.84043707558894!3d34.68504697292527!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60013996bd8c6061%3A0xf96cacf357447456!2sNara%20Park!5e0!3m2!1sen!2sin!4v1758192216044!5m2!1sen!2sin",

  "Osaka Adventure": "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3280.710431423509!2d135.5232796755891!3d34.68725707292442!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6000e0cd5c283afd%3A0xf01d07d5ca11e41!2sOsaka%20Castle!5e0!3m2!1sen!2sin!4v1758192150727!5m2!1sen!2sin",

  "Mount Fuji Adventure": "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d13015.197565360704!2d138.7170636577702!3d35.360624563075!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6019629a42fdc899%3A0xa6a1fcc916f3a4df!2sMount%20Fuji!5e0!3m2!1sen!2sin!4v1758192053105!5m2!1sen!2sin",

  "Kehi Shinto": "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3281.293617874203!2d135.77771658299517!3d34.672538303130665!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60013b0ddcd99d6f%3A0x12792bef7f8188b!2sKehi%20Shrine!5e0!3m2!1sen!2sin!4v1758192105524!5m2!1sen!2sin"
};


    const coupons = { "RYOUKO10": 10, "RYOUKO20": 20 };

    function applyCoupon() {
      const code = document.querySelector('input[name="coupon"]').value.trim().toUpperCase();
      const priceInput = document.querySelector('input[name="price"]');
      let original = parseInt(priceInput.dataset.original);
      if (!code) { alert("Enter a coupon!"); return; }
      if (coupons[code]) {
        let discounted = original - (original * coupons[code] / 100);
        priceInput.value = `¥${discounted.toLocaleString()}`;
        alert(`Coupon applied! ${coupons[code]}% off`);
      } else {
        alert("Invalid coupon!");
      }
      document.querySelector('input[name="coupon"]').value = '';
    }

    window.addEventListener('DOMContentLoaded', () => {
      const pkg = localStorage.getItem('selectedPackage') || "Tokyo Explorer";
      const price = parseInt(localStorage.getItem('selectedPrice')) || 150000;

      document.getElementById('packageName').textContent = pkg;
      const priceInput = document.querySelector('input[name="price"]');
      priceInput.value = `¥${price.toLocaleString()}`;
      priceInput.dataset.original = price;

      document.getElementById('mapFrame').src = packageMaps[pkg];
    });
  </script>

</body>
</html>
